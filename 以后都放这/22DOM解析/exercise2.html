<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="../../css/reset.css"/>
		<style type="text/css">
			#cont {
				width: 500px;
				background: #D0D1D4;
				margin: 20px auto;
				padding: 20px 0 20px 0 ;
			}
			p {
				display: inline-block;
				vertical-align: top;
			}
			textarea {
				border: none;
			}
			input[type=text] {
				width: 400px;
				height: 25px;
				margin-bottom: 10px;
			}
			input[type=button] {
				width: 50px;
				height: 25px;
				background: grey;
				color: black;
				margin-left: 50px;
			}
			#message {
				width: 450px;
				margin: 20px 0 0 20px;
			}
			h5 {
				width: 100%;
				height: 30px;
				text-indent: 20px;
				background: #999999;
				font: 20px/30px "微软雅黑";
			}
			
			.mc {
				overflow: hidden;
				background: white;
			}
			#message_cont li {
				margin-bottom: 10px;
			}
			.mc p {
				text-indent: 20px;
				float: left;
			}
			.del {
				float: right;
				width: 50px;
				color: dodgerblue;
				cursor: pointer;
			}
		</style>
	</head>
	<body>
		<div id="cont">
			<div>
				<p>姓名:</p>
				<input type="text" name="nickName" id="nickName"/>
			</div>
			<div>
				<p>内容:</p>
				<textarea id="textBox" rows="10" cols="50"></textarea>
			</div>
			<input id="btn" type="button" value="提交" />
			<div id="message">
				<h4>显示留言</h4>
				<ul id="message_cont">
				</ul>
			</div>
		</div>
	</body>
</html><script type="text/javascript">
	var ul = document.getElementById('message_cont');

	
	addLi();
	function addLi() {
		var nickName = document.getElementById('nickName');
		var cont = document.getElementById('textBox');
		var btn = document.getElementById('btn');
		
		btn.onclick = function() {
			if(nickName.value == '' || cont.value == '') {
				alert('请输入内容');
			}else {
				var li = document.createElement('li');
				ul.appendChild(li);
				li.innerHTML = '<h5>'+ nickName.value + '</h5><div class="mc"><p>'+ cont.value + '</p><div class="del">删除</div>';
				del1();
			}
		}
	}
	

	function del1() {
		var li = ul.getElementsByTagName('li');
		var del = ul.getElementsByClassName('del');
		
		for(var i=0;i<del.length;i++) {
			del[i].index = i;
		}
		
		for(var i=0;i<li.length;++i) {
			del[i].onclick = function() {
				ul.removeChild(li[this.index]);
				for(var i=0;i<del.length;i++) {
					del[i].index = i;
				}
			}
		}
	}
	
</script>
